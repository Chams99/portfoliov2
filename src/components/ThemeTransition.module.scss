// Local class to make :global() pure
.themeTransition {
  // Apply styles directly to body element
  :global(body.themeTransition) {
    position: relative;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    
    &.transitioning {
      &::before {
        content: '';
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: radial-gradient(circle at center, 
          rgba(var(--brand-background-strong-rgb), 0.1) 0%, 
          transparent 70%);
        pointer-events: none;
        z-index: 9999;
        animation: themeTransitionOverlay 0.3s ease-out;
      }
      
      // Add a subtle scale effect to the entire page
      transform: scale(0.98);
      filter: brightness(1.1);
    }
  }

  @keyframes themeTransitionOverlay {
    0% {
      opacity: 0;
      transform: scale(0.8);
    }
    50% {
      opacity: 1;
      transform: scale(1.1);
    }
    100% {
      opacity: 0;
      transform: scale(1.2);
    }
  }

  // Apply smooth transitions to all elements when body has themeTransition class
  :global(body.themeTransition) {
    // Apply smooth transitions to all child elements
    :global(*) {
      transition: 
        background-color 0.3s cubic-bezier(0.4, 0, 0.2, 1),
        border-color 0.3s cubic-bezier(0.4, 0, 0.2, 1),
        color 0.3s cubic-bezier(0.4, 0, 0.2, 1),
        box-shadow 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }
    
    // Enhanced transitions for specific elements
    :global([data-theme]) {
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }
    
    // Smooth gradient transitions
    :global(.gradient-bg) {
      transition: background 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }
    
    // Enhanced button transitions
    :global(button), :global(.button) {
      transition: 
        all 0.3s cubic-bezier(0.4, 0, 0.2, 1),
        transform 0.2s cubic-bezier(0.4, 0, 0.2, 1);
    }
    
    // Smooth text color transitions
    :global(h1), :global(h2), :global(h3), :global(h4), :global(h5), :global(h6), 
    :global(p), :global(span), :global(div) {
      transition: color 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }
    
    // Enhanced card transitions
    :global(.card), :global(.project-card) {
      transition: 
        all 0.3s cubic-bezier(0.4, 0, 0.2, 1),
        box-shadow 0.3s cubic-bezier(0.4, 0, 0.2, 1),
        transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }
  }
}